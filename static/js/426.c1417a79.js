"use strict";(self["webpackChunkpdf_image_web"]=self["webpackChunkpdf_image_web"]||[]).push([[426],{426:function(l,e,a){a.r(e),a.d(e,{default:function(){return h}});var t=a(641),n=a(953),o=a(33),u=a(163),d=a(8548),r=a(7196),i=a(784);const s={class:"html-to-pdf"},c={class:"card-header"},p={key:0,class:"result-section"},k={class:"result-info"};var m={__name:"HtmlToPdf",setup(l){const e=(0,n.KR)(),a=(0,n.KR)(!1),m=(0,n.KR)(null),b=(0,n.KR)(null),v=(0,n.Kh)({pageSize:"A4",orientation:"portrait",margins:"36,36,36,36"}),f=l=>{const a=l.raw,t=/\.(html|htm)$/i.test(a.name);if(!t)return u.nk.error("仅支持 .html/.htm 文件"),void e.value.clearFiles();m.value=a},F=l=>{const e=/\.(html|htm)$/i.test(l.name);return e||u.nk.error("仅支持 .html/.htm 文件"),!1},g=async()=>{if(m.value){a.value=!0;try{const l=new FormData;l.append("file",m.value),l.append("pageSize",v.pageSize),l.append("orientation",v.orientation),l.append("margins",v.margins);const e=await r.DC.fromHtml(l);b.value=e,u.nk.success("转换成功")}catch(l){console.error(l)}finally{a.value=!1}}else u.nk.warning("请先选择HTML文件")},_=()=>{if(b.value?.data?.downloadUrl)try{const l=b.value.data.convertedFile||"converted.pdf";(0,i.downloadFile)(b.value.data.downloadUrl,l),u.nk.success("下载已开始")}catch(l){console.error("下载失败:",l),u.nk.error("下载失败，请重试")}else u.nk.warning("没有可下载的文件")},h=()=>{v.pageSize="A4",v.orientation="portrait",v.margins="36,36,36,36",m.value=null,b.value=null,e.value?.clearFiles()};return(l,u)=>{const r=(0,t.g2)("el-icon"),i=(0,t.g2)("el-upload"),L=(0,t.g2)("el-form-item"),w=(0,t.g2)("el-option"),D=(0,t.g2)("el-select"),y=(0,t.g2)("el-input"),C=(0,t.g2)("el-button"),H=(0,t.g2)("el-form"),V=(0,t.g2)("el-divider"),M=(0,t.g2)("el-alert"),P=(0,t.g2)("el-card");return(0,t.uX)(),(0,t.CE)("div",s,[(0,t.bF)(P,{class:"box-card"},{header:(0,t.k6)(()=>[(0,t.Lk)("div",c,[u[3]||(u[3]=(0,t.Lk)("span",null,"HTML 转 PDF",-1)),(0,t.bF)(r,null,{default:(0,t.k6)(()=>[(0,t.bF)((0,n.R1)(d.Document))]),_:1})])]),default:(0,t.k6)(()=>[(0,t.bF)(H,{model:v,"label-width":"120px"},{default:(0,t.k6)(()=>[(0,t.bF)(L,{label:"选择HTML文件",required:""},{default:(0,t.k6)(()=>[(0,t.bF)(i,{ref_key:"uploadRef",ref:e,"auto-upload":!1,limit:1,"on-change":f,"before-upload":F,accept:".html,.htm",drag:""},{tip:(0,t.k6)(()=>[...u[4]||(u[4]=[(0,t.Lk)("div",{class:"el-upload__tip"},"只能上传 .html/.htm 文件，且不超过100MB",-1)])]),default:(0,t.k6)(()=>[(0,t.bF)(r,{class:"el-icon--upload"},{default:(0,t.k6)(()=>[(0,t.bF)((0,n.R1)(d.UploadFilled))]),_:1}),u[5]||(u[5]=(0,t.Lk)("div",{class:"el-upload__text"},[(0,t.eW)("将HTML文件拖到此处，或"),(0,t.Lk)("em",null,"点击上传")],-1))]),_:1},512)]),_:1}),(0,t.bF)(L,{label:"纸张大小"},{default:(0,t.k6)(()=>[(0,t.bF)(D,{modelValue:v.pageSize,"onUpdate:modelValue":u[0]||(u[0]=l=>v.pageSize=l)},{default:(0,t.k6)(()=>[(0,t.bF)(w,{label:"A4",value:"A4"}),(0,t.bF)(w,{label:"Letter",value:"Letter"}),(0,t.bF)(w,{label:"Legal",value:"Legal"})]),_:1},8,["modelValue"])]),_:1}),(0,t.bF)(L,{label:"方向"},{default:(0,t.k6)(()=>[(0,t.bF)(D,{modelValue:v.orientation,"onUpdate:modelValue":u[1]||(u[1]=l=>v.orientation=l)},{default:(0,t.k6)(()=>[(0,t.bF)(w,{label:"纵向 (portrait)",value:"portrait"}),(0,t.bF)(w,{label:"横向 (landscape)",value:"landscape"})]),_:1},8,["modelValue"])]),_:1}),(0,t.bF)(L,{label:"页边距"},{default:(0,t.k6)(()=>[(0,t.bF)(y,{modelValue:v.margins,"onUpdate:modelValue":u[2]||(u[2]=l=>v.margins=l),placeholder:"left,top,right,bottom (pt)"},null,8,["modelValue"]),u[6]||(u[6]=(0,t.Lk)("div",{class:"form-tip"},"默认 36,36,36,36（单位：pt）",-1))]),_:1}),(0,t.bF)(L,null,{default:(0,t.k6)(()=>[(0,t.bF)(C,{type:"primary",loading:a.value,disabled:!m.value,onClick:g},{default:(0,t.k6)(()=>[(0,t.eW)((0,o.v_)(a.value?"处理中...":"开始转换"),1)]),_:1},8,["loading","disabled"]),(0,t.bF)(C,{onClick:h},{default:(0,t.k6)(()=>[...u[7]||(u[7]=[(0,t.eW)("重置",-1)])]),_:1})]),_:1})]),_:1},8,["model"]),b.value?((0,t.uX)(),(0,t.CE)("div",p,[(0,t.bF)(V,null,{default:(0,t.k6)(()=>[...u[8]||(u[8]=[(0,t.eW)("处理结果",-1)])]),_:1}),(0,t.bF)(M,{title:b.value.msg,type:"success",closable:!1,"show-icon":""},null,8,["title"]),(0,t.Lk)("div",k,[(0,t.Lk)("p",null,[u[9]||(u[9]=(0,t.Lk)("strong",null,"任务ID:",-1)),(0,t.eW)(" "+(0,o.v_)(b.value.data.taskId),1)]),(0,t.Lk)("p",null,[u[10]||(u[10]=(0,t.Lk)("strong",null,"输出文件:",-1)),(0,t.eW)(" "+(0,o.v_)(b.value.data.convertedFile),1)]),(0,t.bF)(C,{type:"success",onClick:_},{default:(0,t.k6)(()=>[(0,t.bF)(r,null,{default:(0,t.k6)(()=>[(0,t.bF)((0,n.R1)(d.Download))]),_:1}),u[11]||(u[11]=(0,t.eW)(" 下载PDF ",-1))]),_:1})])])):(0,t.Q3)("",!0)]),_:1})])}}},b=a(6262);const v=(0,b.A)(m,[["__scopeId","data-v-5c8422b8"]]);var f=v;const F={class:"html-to-pdf-page"};var g={__name:"HtmlToPdf",setup(l){return(l,e)=>((0,t.uX)(),(0,t.CE)("div",F,[(0,t.bF)(f),e[0]||(e[0]=(0,t.Lk)("section",{class:"info-block"},[(0,t.Lk)("h2",null,"功能说明"),(0,t.Lk)("p",null,"将HTML页面或片段渲染并导出为高保真的PDF，支持页面尺寸、方向、页眉页脚配置。"),(0,t.Lk)("h3",null,"使用案例"),(0,t.Lk)("ul",null,[(0,t.Lk)("li",null,"把网页报告/发票模板导出为正式PDF文档。"),(0,t.Lk)("li",null,"将Markdown渲染后的HTML转为PDF分享。"),(0,t.Lk)("li",null,"将产品详情页保存为PDF用于线下审核。")])],-1))]))}};const _=(0,b.A)(g,[["__scopeId","data-v-596d3ac8"]]);var h=_}}]);
//# sourceMappingURL=426.c1417a79.js.map