"use strict";(self["webpackChunkpdf_image_web"]=self["webpackChunkpdf_image_web"]||[]).push([[409],{409:function(e,l,t){t.r(l),t.d(l,{default:function(){return _}});var a=t(641),o=t(953),n=t(33),r=t(163),u=t(8548),s=t(7196),i=t(784),d=t(1322);const p={class:"pdf-split"},c={class:"card-header"},f={key:0,class:"result-section"},F={class:"result-info"};var k={__name:"PdfSplit",setup(e){const l=(0,o.KR)(),t=(0,o.KR)(!1),k=(0,o.KR)(null),g=(0,o.KR)(null),v=(0,o.Kh)({splitPages:"",outputFormat:"pdf"}),_=e=>{const t=(0,d.nJ)(e.raw,"PDF");if(!t.valid)return r.nk.error(t.errors[0]),void l.value.clearFiles();k.value=e.raw},w=e=>{const l=(0,d.nJ)(e,"PDF");return l.valid||r.nk.error(l.errors[0]),!1},m=async()=>{if(k.value){t.value=!0;try{const e=new FormData;e.append("file",k.value),e.append("splitPages",v.splitPages),e.append("outputFormat",v.outputFormat);const l=await s.DC.splitPdf(e);g.value=l,r.nk.success("PDF split successful")}catch(e){console.error("PDF split failed:",e)}finally{t.value=!1}}else r.nk.warning("Please select a PDF file first")},b=()=>{if(g.value?.data?.downloadUrl)try{const e="split_files.zip";(0,i.downloadFile)(g.value.data.downloadUrl,e),r.nk.success("Download started")}catch(e){console.error("Download failed:",e),r.nk.error("Download failed, please try again")}else r.nk.warning("No file available for download")},P=()=>{v.splitPages="",v.outputFormat="pdf",k.value=null,g.value=null,l.value?.clearFiles()};return(e,r)=>{const s=(0,a.g2)("el-icon"),i=(0,a.g2)("el-upload"),d=(0,a.g2)("el-form-item"),h=(0,a.g2)("el-input"),L=(0,a.g2)("el-option"),D=(0,a.g2)("el-select"),C=(0,a.g2)("el-button"),y=(0,a.g2)("el-form"),R=(0,a.g2)("el-divider"),U=(0,a.g2)("el-alert"),I=(0,a.g2)("el-card");return(0,a.uX)(),(0,a.CE)("div",p,[(0,a.bF)(I,{class:"box-card"},{header:(0,a.k6)(()=>[(0,a.Lk)("div",c,[r[2]||(r[2]=(0,a.Lk)("span",null,"PDF Split",-1)),(0,a.bF)(s,null,{default:(0,a.k6)(()=>[(0,a.bF)((0,o.R1)(u.Document))]),_:1})])]),default:(0,a.k6)(()=>[(0,a.bF)(y,{model:v,"label-width":"120px"},{default:(0,a.k6)(()=>[(0,a.bF)(d,{label:"Select PDF File",required:""},{default:(0,a.k6)(()=>[(0,a.bF)(i,{ref_key:"uploadRef",ref:l,"auto-upload":!1,limit:1,"on-change":_,"before-upload":w,accept:".pdf",drag:""},{tip:(0,a.k6)(()=>[...r[3]||(r[3]=[(0,a.Lk)("div",{class:"el-upload__tip"}," Only PDF files are allowed, max 100MB ",-1)])]),default:(0,a.k6)(()=>[(0,a.bF)(s,{class:"el-icon--upload"},{default:(0,a.k6)(()=>[(0,a.bF)((0,o.R1)(u.UploadFilled))]),_:1}),r[4]||(r[4]=(0,a.Lk)("div",{class:"el-upload__text"},[(0,a.eW)(" Drag PDF file here, or "),(0,a.Lk)("em",null,"click to upload")],-1))]),_:1},512)]),_:1}),(0,a.bF)(d,{label:"Split Pages"},{default:(0,a.k6)(()=>[(0,a.bF)(h,{modelValue:v.splitPages,"onUpdate:modelValue":r[0]||(r[0]=e=>v.splitPages=e),placeholder:"Format: 1-5,10-15 (leave empty to split by page)",clearable:""},null,8,["modelValue"]),r[5]||(r[5]=(0,a.Lk)("div",{class:"form-tip"}," Supports range format like: 1-5,10-15, leave empty to split each page individually ",-1))]),_:1}),(0,a.bF)(d,{label:"Output Format"},{default:(0,a.k6)(()=>[(0,a.bF)(D,{modelValue:v.outputFormat,"onUpdate:modelValue":r[1]||(r[1]=e=>v.outputFormat=e),placeholder:"Select output format"},{default:(0,a.k6)(()=>[(0,a.bF)(L,{label:"PDF",value:"pdf"})]),_:1},8,["modelValue"])]),_:1}),(0,a.bF)(d,null,{default:(0,a.k6)(()=>[(0,a.bF)(C,{type:"primary",loading:t.value,disabled:!k.value,onClick:m},{default:(0,a.k6)(()=>[(0,a.eW)((0,n.v_)(t.value?"Processing...":"Start Split"),1)]),_:1},8,["loading","disabled"]),(0,a.bF)(C,{onClick:P},{default:(0,a.k6)(()=>[...r[6]||(r[6]=[(0,a.eW)("Reset",-1)])]),_:1})]),_:1})]),_:1},8,["model"]),g.value?((0,a.uX)(),(0,a.CE)("div",f,[(0,a.bF)(R,null,{default:(0,a.k6)(()=>[...r[7]||(r[7]=[(0,a.eW)("Processing Results",-1)])]),_:1}),(0,a.bF)(U,{title:g.value.msg,type:"success",closable:!1,"show-icon":""},null,8,["title"]),(0,a.Lk)("div",F,[(0,a.Lk)("p",null,[r[8]||(r[8]=(0,a.Lk)("strong",null,"Task ID:",-1)),(0,a.eW)(" "+(0,n.v_)(g.value.data.taskId),1)]),(0,a.Lk)("p",null,[r[9]||(r[9]=(0,a.Lk)("strong",null,"Split Files Count:",-1)),(0,a.eW)(" "+(0,n.v_)(g.value.data.splitFiles.length),1)]),r[11]||(r[11]=(0,a.Lk)("p",null,[(0,a.Lk)("strong",null,"Split Files:")],-1)),(0,a.Lk)("ul",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(g.value.data.splitFiles,e=>((0,a.uX)(),(0,a.CE)("li",{key:e},(0,n.v_)(e),1))),128))]),(0,a.bF)(C,{type:"success",onClick:b},{default:(0,a.k6)(()=>[(0,a.bF)(s,null,{default:(0,a.k6)(()=>[(0,a.bF)((0,o.R1)(u.Download))]),_:1}),r[10]||(r[10]=(0,a.eW)(" Download Results ",-1))]),_:1})])])):(0,a.Q3)("",!0)]),_:1})])}}},g=t(6262);const v=(0,g.A)(k,[["__scopeId","data-v-c08c8154"]]);var _=v},784:function(e,l,t){t.r(l),t.d(l,{downloadFile:function(){return o},getApiBaseUrl:function(){return n},getDownloadUrl:function(){return a}});const a=e=>e?e.startsWith("http://")||e.startsWith("https://")?e:window.APP_CONFIG&&window.APP_CONFIG.API_FULL_URL?`${window.APP_CONFIG.API_FULL_URL}${e}`:`https://api.openai2025.com${e}`:"",o=(e,l="")=>{if(!e)return void console.error("Download URL is required");const t=a(e);try{const e=document.createElement("a");e.href=t,e.target="_blank",l&&(e.download=l),document.body.appendChild(e),e.click(),document.body.removeChild(e),console.log("Download started:",t)}catch(o){throw console.error("Download failed:",o),o}},n=()=>window.APP_CONFIG&&window.APP_CONFIG.API_FULL_URL?window.APP_CONFIG.API_FULL_URL:"https://api.openai2025.com"},1322:function(e,l,t){function a(e){if(0===e)return"0 B";const l=1024,t=["B","KB","MB","GB"],a=Math.floor(Math.log(e)/Math.log(l));return parseFloat((e/Math.pow(l,a)).toFixed(2))+" "+t[a]}function o(e,l){const t="."+e.name.split(".").pop().toLowerCase();return l.includes(t)}function n(e,l=104857600){return e.size<=l}function r(e){return new Promise((l,t)=>{const a=new FileReader;a.onload=e=>l(e.target.result),a.onerror=t,a.readAsDataURL(e)})}t.d(l,{nJ:function(){return s},oz:function(){return r},v7:function(){return a}});const u={PDF:[".pdf"],IMAGE:[".jpg",".jpeg",".png",".bmp",".tiff"],WORD:[".doc",".docx"],EXCEL:[".xls",".xlsx"],POWERPOINT:[".ppt",".pptx"]};function s(e,l){const t=[];return o(e,u[l])||t.push(`文件类型不支持，请上传${u[l].join("、")}格式的文件`),n(e)||t.push("文件大小不能超过100MB"),{valid:0===t.length,errors:t}}}}]);
//# sourceMappingURL=409.d6768603.js.map