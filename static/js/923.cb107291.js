"use strict";(self["webpackChunkpdf_image_web"]=self["webpackChunkpdf_image_web"]||[]).push([[923],{1322:function(e,l,t){function a(e){if(0===e)return"0 B";const l=1024,t=["B","KB","MB","GB"],a=Math.floor(Math.log(e)/Math.log(l));return parseFloat((e/Math.pow(l,a)).toFixed(2))+" "+t[a]}function u(e,l){const t="."+e.name.split(".").pop().toLowerCase();return l.includes(t)}function o(e,l=104857600){return e.size<=l}function n(e){return new Promise((l,t)=>{const a=new FileReader;a.onload=e=>l(e.target.result),a.onerror=t,a.readAsDataURL(e)})}t.d(l,{nJ:function(){return r},oz:function(){return n},v7:function(){return a}});const s={PDF:[".pdf"],IMAGE:[".jpg",".jpeg",".png",".bmp",".tiff"],WORD:[".doc",".docx"],EXCEL:[".xls",".xlsx"],POWERPOINT:[".ppt",".pptx"]};function r(e,l){const t=[];return u(e,s[l])||t.push(`文件类型不支持，请上传${s[l].join("、")}格式的文件`),o(e)||t.push("文件大小不能超过100MB"),{valid:0===t.length,errors:t}}},2923:function(e,l,t){t.r(l),t.d(l,{default:function(){return g}});var a=t(641),u=t(953),o=t(33),n=t(163),s=t(8548),r=t(7196),i=t(1322);const d={class:"pdf-split"},p={class:"card-header"},c={key:0,class:"result-section"},f={class:"result-info"};var F={__name:"PdfSplit",setup(e){const l=(0,u.KR)(),t=(0,u.KR)(!1),F=(0,u.KR)(null),k=(0,u.KR)(null),v=(0,u.Kh)({splitPages:"",outputFormat:"pdf"}),g=e=>{const t=(0,i.nJ)(e.raw,"PDF");if(!t.valid)return n.nk.error(t.errors[0]),void l.value.clearFiles();F.value=e.raw},b=e=>{const l=(0,i.nJ)(e,"PDF");return l.valid||n.nk.error(l.errors[0]),!1},m=async()=>{if(F.value){t.value=!0;try{const e=new FormData;e.append("file",F.value),e.append("splitPages",v.splitPages),e.append("outputFormat",v.outputFormat);const l=await r.DC.splitPdf(e);k.value=l,n.nk.success("PDF split successful")}catch(e){console.error("PDF split failed:",e)}finally{t.value=!1}}else n.nk.warning("Please select a PDF file first")},_=()=>{if(k.value?.data?.downloadUrl){const e=document.createElement("a");e.href=k.value.data.downloadUrl,e.download="split_files.zip",e.click()}},P=()=>{v.splitPages="",v.outputFormat="pdf",F.value=null,k.value=null,l.value?.clearFiles()};return(e,n)=>{const r=(0,a.g2)("el-icon"),i=(0,a.g2)("el-upload"),h=(0,a.g2)("el-form-item"),w=(0,a.g2)("el-input"),D=(0,a.g2)("el-option"),L=(0,a.g2)("el-select"),y=(0,a.g2)("el-button"),R=(0,a.g2)("el-form"),C=(0,a.g2)("el-divider"),x=(0,a.g2)("el-alert"),S=(0,a.g2)("el-card");return(0,a.uX)(),(0,a.CE)("div",d,[(0,a.bF)(S,{class:"box-card"},{header:(0,a.k6)(()=>[(0,a.Lk)("div",p,[n[2]||(n[2]=(0,a.Lk)("span",null,"PDF Split",-1)),(0,a.bF)(r,null,{default:(0,a.k6)(()=>[(0,a.bF)((0,u.R1)(s.Document))]),_:1})])]),default:(0,a.k6)(()=>[(0,a.bF)(R,{model:v,"label-width":"120px"},{default:(0,a.k6)(()=>[(0,a.bF)(h,{label:"Select PDF File",required:""},{default:(0,a.k6)(()=>[(0,a.bF)(i,{ref_key:"uploadRef",ref:l,"auto-upload":!1,limit:1,"on-change":g,"before-upload":b,accept:".pdf",drag:""},{tip:(0,a.k6)(()=>[...n[3]||(n[3]=[(0,a.Lk)("div",{class:"el-upload__tip"}," Only PDF files are allowed, max 100MB ",-1)])]),default:(0,a.k6)(()=>[(0,a.bF)(r,{class:"el-icon--upload"},{default:(0,a.k6)(()=>[(0,a.bF)((0,u.R1)(s.UploadFilled))]),_:1}),n[4]||(n[4]=(0,a.Lk)("div",{class:"el-upload__text"},[(0,a.eW)(" Drag PDF file here, or "),(0,a.Lk)("em",null,"click to upload")],-1))]),_:1},512)]),_:1}),(0,a.bF)(h,{label:"Split Pages"},{default:(0,a.k6)(()=>[(0,a.bF)(w,{modelValue:v.splitPages,"onUpdate:modelValue":n[0]||(n[0]=e=>v.splitPages=e),placeholder:"Format: 1-5,10-15 (leave empty to split by page)",clearable:""},null,8,["modelValue"]),n[5]||(n[5]=(0,a.Lk)("div",{class:"form-tip"}," Supports range format like: 1-5,10-15, leave empty to split each page individually ",-1))]),_:1}),(0,a.bF)(h,{label:"Output Format"},{default:(0,a.k6)(()=>[(0,a.bF)(L,{modelValue:v.outputFormat,"onUpdate:modelValue":n[1]||(n[1]=e=>v.outputFormat=e),placeholder:"Select output format"},{default:(0,a.k6)(()=>[(0,a.bF)(D,{label:"PDF",value:"pdf"})]),_:1},8,["modelValue"])]),_:1}),(0,a.bF)(h,null,{default:(0,a.k6)(()=>[(0,a.bF)(y,{type:"primary",loading:t.value,disabled:!F.value,onClick:m},{default:(0,a.k6)(()=>[(0,a.eW)((0,o.v_)(t.value?"Processing...":"Start Split"),1)]),_:1},8,["loading","disabled"]),(0,a.bF)(y,{onClick:P},{default:(0,a.k6)(()=>[...n[6]||(n[6]=[(0,a.eW)("Reset",-1)])]),_:1})]),_:1})]),_:1},8,["model"]),k.value?((0,a.uX)(),(0,a.CE)("div",c,[(0,a.bF)(C,null,{default:(0,a.k6)(()=>[...n[7]||(n[7]=[(0,a.eW)("Processing Results",-1)])]),_:1}),(0,a.bF)(x,{title:k.value.msg,type:"success",closable:!1,"show-icon":""},null,8,["title"]),(0,a.Lk)("div",f,[(0,a.Lk)("p",null,[n[8]||(n[8]=(0,a.Lk)("strong",null,"Task ID:",-1)),(0,a.eW)(" "+(0,o.v_)(k.value.data.taskId),1)]),(0,a.Lk)("p",null,[n[9]||(n[9]=(0,a.Lk)("strong",null,"Split Files Count:",-1)),(0,a.eW)(" "+(0,o.v_)(k.value.data.splitFiles.length),1)]),n[11]||(n[11]=(0,a.Lk)("p",null,[(0,a.Lk)("strong",null,"Split Files:")],-1)),(0,a.Lk)("ul",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(k.value.data.splitFiles,e=>((0,a.uX)(),(0,a.CE)("li",{key:e},(0,o.v_)(e),1))),128))]),(0,a.bF)(y,{type:"success",onClick:_},{default:(0,a.k6)(()=>[(0,a.bF)(r,null,{default:(0,a.k6)(()=>[(0,a.bF)((0,u.R1)(s.Download))]),_:1}),n[10]||(n[10]=(0,a.eW)(" Download Results ",-1))]),_:1})])])):(0,a.Q3)("",!0)]),_:1})])}}},k=t(6262);const v=(0,k.A)(F,[["__scopeId","data-v-77be856e"]]);var g=v}}]);
//# sourceMappingURL=923.cb107291.js.map