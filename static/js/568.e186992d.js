"use strict";(self["webpackChunkpdf_image_web"]=self["webpackChunkpdf_image_web"]||[]).push([[568],{1322:function(l,e,a){function t(l){if(0===l)return"0 B";const e=1024,a=["B","KB","MB","GB"],t=Math.floor(Math.log(l)/Math.log(e));return parseFloat((l/Math.pow(e,t)).toFixed(2))+" "+a[t]}function u(l,e){const a="."+l.name.split(".").pop().toLowerCase();return e.includes(a)}function n(l,e=104857600){return l.size<=e}a.d(e,{nJ:function(){return s},v7:function(){return t}});const o={PDF:[".pdf"],IMAGE:[".jpg",".jpeg",".png",".bmp",".tiff"],WORD:[".doc",".docx"],EXCEL:[".xls",".xlsx"],POWERPOINT:[".ppt",".pptx"]};function s(l,e){const a=[];return u(l,o[e])||a.push(`文件类型不支持，请上传${o[e].join("、")}格式的文件`),n(l)||a.push("文件大小不能超过100MB"),{valid:0===a.length,errors:a}}},8568:function(l,e,a){a.r(e),a.d(e,{default:function(){return L}});var t=a(641),u=a(953),n=a(33),o=a(163),s=a(8548),d=a(7196),r=a(1322),i=a(784);const p={class:"pdf-split"},c={class:"card-header"},f={key:0,class:"result-section"},k={class:"result-info"};var F={__name:"PdfSplit",setup(l){const e=(0,u.KR)(),a=(0,u.KR)(!1),F=(0,u.KR)(null),v=(0,u.KR)(null),b=(0,u.Kh)({splitPages:"",outputFormat:"pdf"}),g=l=>{const a=(0,r.nJ)(l.raw,"PDF");if(!a.valid)return o.nk.error(a.errors[0]),void e.value.clearFiles();F.value=l.raw},_=l=>{const e=(0,r.nJ)(l,"PDF");return e.valid||o.nk.error(e.errors[0]),!1},m=async()=>{if(F.value){a.value=!0;try{const l=new FormData;l.append("file",F.value),l.append("splitPages",b.splitPages),l.append("outputFormat",b.outputFormat);const e=await d.DC.splitPdf(l);v.value=e,o.nk.success("PDF拆分成功")}catch(l){console.error("PDF拆分失败:",l)}finally{a.value=!1}}else o.nk.warning("请先选择PDF文件")},P=()=>{if(v.value?.data?.downloadUrl)try{const l="split_files.zip";(0,i.downloadFile)(v.value.data.downloadUrl,l),o.nk.success("下载已开始")}catch(l){console.error("下载失败:",l),o.nk.error("下载失败，请重试")}else o.nk.warning("没有可下载的文件")},L=()=>{b.splitPages="",b.outputFormat="pdf",F.value=null,v.value=null,e.value?.clearFiles()};return(l,o)=>{const d=(0,t.g2)("el-icon"),r=(0,t.g2)("el-upload"),i=(0,t.g2)("el-form-item"),h=(0,t.g2)("el-input"),D=(0,t.g2)("el-option"),w=(0,t.g2)("el-select"),C=(0,t.g2)("el-button"),y=(0,t.g2)("el-form"),R=(0,t.g2)("el-divider"),x=(0,t.g2)("el-alert"),E=(0,t.g2)("el-card");return(0,t.uX)(),(0,t.CE)("div",p,[(0,t.bF)(E,{class:"box-card"},{header:(0,t.k6)(()=>[(0,t.Lk)("div",c,[o[2]||(o[2]=(0,t.Lk)("span",null,"PDF拆分",-1)),(0,t.bF)(d,null,{default:(0,t.k6)(()=>[(0,t.bF)((0,u.R1)(s.Document))]),_:1})])]),default:(0,t.k6)(()=>[(0,t.bF)(y,{model:b,"label-width":"120px"},{default:(0,t.k6)(()=>[(0,t.bF)(i,{label:"选择PDF文件",required:""},{default:(0,t.k6)(()=>[(0,t.bF)(r,{ref_key:"uploadRef",ref:e,"auto-upload":!1,limit:1,"on-change":g,"before-upload":_,accept:".pdf",drag:""},{tip:(0,t.k6)(()=>[...o[3]||(o[3]=[(0,t.Lk)("div",{class:"el-upload__tip"}," 只能上传PDF文件，且不超过100MB ",-1)])]),default:(0,t.k6)(()=>[(0,t.bF)(d,{class:"el-icon--upload"},{default:(0,t.k6)(()=>[(0,t.bF)((0,u.R1)(s.UploadFilled))]),_:1}),o[4]||(o[4]=(0,t.Lk)("div",{class:"el-upload__text"},[(0,t.eW)(" 将PDF文件拖到此处，或"),(0,t.Lk)("em",null,"点击上传")],-1))]),_:1},512)]),_:1}),(0,t.bF)(i,{label:"拆分页数"},{default:(0,t.k6)(()=>[(0,t.bF)(h,{modelValue:b.splitPages,"onUpdate:modelValue":o[0]||(o[0]=l=>b.splitPages=l),placeholder:"格式如: 1-5,10-15 (不填则按页拆分)",clearable:""},null,8,["modelValue"]),o[5]||(o[5]=(0,t.Lk)("div",{class:"form-tip"}," 支持范围格式，如：1-5,10-15，不填则每页单独拆分 ",-1))]),_:1}),(0,t.bF)(i,{label:"输出格式"},{default:(0,t.k6)(()=>[(0,t.bF)(w,{modelValue:b.outputFormat,"onUpdate:modelValue":o[1]||(o[1]=l=>b.outputFormat=l),placeholder:"选择输出格式"},{default:(0,t.k6)(()=>[(0,t.bF)(D,{label:"PDF",value:"pdf"})]),_:1},8,["modelValue"])]),_:1}),(0,t.bF)(i,null,{default:(0,t.k6)(()=>[(0,t.bF)(C,{type:"primary",loading:a.value,disabled:!F.value,onClick:m},{default:(0,t.k6)(()=>[(0,t.eW)((0,n.v_)(a.value?"处理中...":"开始拆分"),1)]),_:1},8,["loading","disabled"]),(0,t.bF)(C,{onClick:L},{default:(0,t.k6)(()=>[...o[6]||(o[6]=[(0,t.eW)("重置",-1)])]),_:1})]),_:1})]),_:1},8,["model"]),v.value?((0,t.uX)(),(0,t.CE)("div",f,[(0,t.bF)(R,null,{default:(0,t.k6)(()=>[...o[7]||(o[7]=[(0,t.eW)("处理结果",-1)])]),_:1}),(0,t.bF)(x,{title:v.value.msg,type:"success",closable:!1,"show-icon":""},null,8,["title"]),(0,t.Lk)("div",k,[(0,t.Lk)("p",null,[o[8]||(o[8]=(0,t.Lk)("strong",null,"任务ID:",-1)),(0,t.eW)(" "+(0,n.v_)(v.value.data.taskId),1)]),(0,t.Lk)("p",null,[o[9]||(o[9]=(0,t.Lk)("strong",null,"拆分文件数:",-1)),(0,t.eW)(" "+(0,n.v_)(v.value.data.splitFiles.length),1)]),o[11]||(o[11]=(0,t.Lk)("p",null,[(0,t.Lk)("strong",null,"拆分文件:")],-1)),(0,t.Lk)("ul",null,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(v.value.data.splitFiles,l=>((0,t.uX)(),(0,t.CE)("li",{key:l},(0,n.v_)(l),1))),128))]),(0,t.bF)(C,{type:"success",onClick:P},{default:(0,t.k6)(()=>[(0,t.bF)(d,null,{default:(0,t.k6)(()=>[(0,t.bF)((0,u.R1)(s.Download))]),_:1}),o[10]||(o[10]=(0,t.eW)(" 下载结果 ",-1))]),_:1})])])):(0,t.Q3)("",!0)]),_:1})])}}},v=a(6262);const b=(0,v.A)(F,[["__scopeId","data-v-faf6c548"]]);var g=b;const _={class:"pdf-split-page"};var m={__name:"PdfSplit",setup(l){return(l,e)=>((0,t.uX)(),(0,t.CE)("div",_,[(0,t.bF)(g),e[0]||(e[0]=(0,t.Lk)("section",{class:"info-block"},[(0,t.Lk)("h2",null,"功能说明"),(0,t.Lk)("p",null,"将一个PDF按页数、范围或自定义方式拆分成多个独立文件，支持快速分割与批量下载。"),(0,t.Lk)("h3",null,"使用案例"),(0,t.Lk)("ul",null,[(0,t.Lk)("li",null,"将合同整本拆分为按章节的独立PDF，便于逐份发送与存档。"),(0,t.Lk)("li",null,"仅导出PDF中的第10-20页作为附件分享。"),(0,t.Lk)("li",null,"把扫描成一本的试卷拆成单份题目文件。")])],-1))]))}};const P=(0,v.A)(m,[["__scopeId","data-v-3f77a74c"]]);var L=P}}]);
//# sourceMappingURL=568.e186992d.js.map