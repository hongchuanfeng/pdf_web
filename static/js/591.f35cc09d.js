"use strict";(self["webpackChunkpdf_image_web"]=self["webpackChunkpdf_image_web"]||[]).push([[591],{8591:function(e,l,a){a.r(l),a.d(l,{default:function(){return L}});var t=a(641),n=a(953),u=a(33),o=a(163),d=a(8548),s=a(7196),i=a(784);const r={class:"images-to-pdf"},c={class:"card-header"},p={key:0,class:"result-section"},f={class:"result-info"};var b={__name:"ImagesToPdf",setup(e){const l=(0,n.KR)(),a=(0,n.KR)(!1),b=(0,n.KR)([]),g=(0,n.KR)(null),k=(0,n.Kh)({fitMode:"contain",pageSize:"A4",margins:"36,36,36,36"}),v=(e,l)=>{b.value=l.map(e=>e.raw).filter(Boolean)},m=e=>{const l=/\.(jpg|jpeg|png|bmp|tiff)$/i.test(e.name);return l||o.nk.error("仅支持图片文件"),!1},F=async()=>{if(0!==b.value.length){a.value=!0;try{const e=new FormData;b.value.forEach(l=>e.append("files",l)),e.append("fitMode",k.fitMode),e.append("pageSize",k.pageSize),e.append("margins",k.margins);const l=await s.DC.fromImages(e);g.value=l,o.nk.success("转换成功")}catch(e){console.error(e)}finally{a.value=!1}}else o.nk.warning("请先选择图片")},_=()=>{if(g.value?.data?.downloadUrl)try{const e=g.value.data.convertedFile||"images_merged.pdf";(0,i.downloadFile)(g.value.data.downloadUrl,e),o.nk.success("下载已开始")}catch(e){console.error("下载失败:",e),o.nk.error("下载失败，请重试")}else o.nk.warning("没有可下载的文件")},L=()=>{k.fitMode="contain",k.pageSize="A4",k.margins="36,36,36,36",b.value=[],g.value=null,l.value?.clearFiles()};return(e,o)=>{const s=(0,t.g2)("el-icon"),i=(0,t.g2)("el-upload"),h=(0,t.g2)("el-form-item"),w=(0,t.g2)("el-option"),D=(0,t.g2)("el-select"),y=(0,t.g2)("el-input"),P=(0,t.g2)("el-button"),C=(0,t.g2)("el-form"),V=(0,t.g2)("el-divider"),R=(0,t.g2)("el-alert"),I=(0,t.g2)("el-card");return(0,t.uX)(),(0,t.CE)("div",r,[(0,t.bF)(I,{class:"box-card"},{header:(0,t.k6)(()=>[(0,t.Lk)("div",c,[o[3]||(o[3]=(0,t.Lk)("span",null,"图片 转 PDF",-1)),(0,t.bF)(s,null,{default:(0,t.k6)(()=>[(0,t.bF)((0,n.R1)(d.Document))]),_:1})])]),default:(0,t.k6)(()=>[(0,t.bF)(C,{model:k,"label-width":"120px"},{default:(0,t.k6)(()=>[(0,t.bF)(h,{label:"选择图片",required:""},{default:(0,t.k6)(()=>[(0,t.bF)(i,{ref_key:"uploadRef",ref:l,"auto-upload":!1,multiple:!0,"on-change":v,"before-upload":m,accept:".jpg,.jpeg,.png,.bmp,.tiff",drag:""},{tip:(0,t.k6)(()=>[...o[4]||(o[4]=[(0,t.Lk)("div",{class:"el-upload__tip"},"支持 .jpg/.jpeg/.png/.bmp/.tiff，单个文件不超过100MB",-1)])]),default:(0,t.k6)(()=>[(0,t.bF)(s,{class:"el-icon--upload"},{default:(0,t.k6)(()=>[(0,t.bF)((0,n.R1)(d.UploadFilled))]),_:1}),o[5]||(o[5]=(0,t.Lk)("div",{class:"el-upload__text"},[(0,t.eW)(" 将图片拖到此处，或"),(0,t.Lk)("em",null,"点击上传")],-1))]),_:1},512)]),_:1}),(0,t.bF)(h,{label:"适配模式"},{default:(0,t.k6)(()=>[(0,t.bF)(D,{modelValue:k.fitMode,"onUpdate:modelValue":o[0]||(o[0]=e=>k.fitMode=e)},{default:(0,t.k6)(()=>[(0,t.bF)(w,{label:"等比适配 (contain)",value:"contain"}),(0,t.bF)(w,{label:"等比铺满 (cover)",value:"cover"}),(0,t.bF)(w,{label:"拉伸填满 (stretch)",value:"stretch"}),(0,t.bF)(w,{label:"原图居中 (center)",value:"center"})]),_:1},8,["modelValue"])]),_:1}),(0,t.bF)(h,{label:"纸张大小"},{default:(0,t.k6)(()=>[(0,t.bF)(D,{modelValue:k.pageSize,"onUpdate:modelValue":o[1]||(o[1]=e=>k.pageSize=e)},{default:(0,t.k6)(()=>[(0,t.bF)(w,{label:"A4",value:"A4"}),(0,t.bF)(w,{label:"Letter",value:"Letter"}),(0,t.bF)(w,{label:"Legal",value:"Legal"})]),_:1},8,["modelValue"])]),_:1}),(0,t.bF)(h,{label:"页边距"},{default:(0,t.k6)(()=>[(0,t.bF)(y,{modelValue:k.margins,"onUpdate:modelValue":o[2]||(o[2]=e=>k.margins=e),placeholder:"left,top,right,bottom (pt)"},null,8,["modelValue"]),o[6]||(o[6]=(0,t.Lk)("div",{class:"form-tip"},"默认 36,36,36,36（单位：pt）",-1))]),_:1}),(0,t.bF)(h,null,{default:(0,t.k6)(()=>[(0,t.bF)(P,{type:"primary",loading:a.value,disabled:0===b.value.length,onClick:F},{default:(0,t.k6)(()=>[(0,t.eW)((0,u.v_)(a.value?"处理中...":"开始转换"),1)]),_:1},8,["loading","disabled"]),(0,t.bF)(P,{onClick:L},{default:(0,t.k6)(()=>[...o[7]||(o[7]=[(0,t.eW)("重置",-1)])]),_:1})]),_:1})]),_:1},8,["model"]),g.value?((0,t.uX)(),(0,t.CE)("div",p,[(0,t.bF)(V,null,{default:(0,t.k6)(()=>[...o[8]||(o[8]=[(0,t.eW)("处理结果",-1)])]),_:1}),(0,t.bF)(R,{title:g.value.msg,type:"success",closable:!1,"show-icon":""},null,8,["title"]),(0,t.Lk)("div",f,[(0,t.Lk)("p",null,[o[9]||(o[9]=(0,t.Lk)("strong",null,"任务ID:",-1)),(0,t.eW)(" "+(0,u.v_)(g.value.data.taskId),1)]),(0,t.Lk)("p",null,[o[10]||(o[10]=(0,t.Lk)("strong",null,"输出文件:",-1)),(0,t.eW)(" "+(0,u.v_)(g.value.data.convertedFile),1)]),(0,t.bF)(P,{type:"success",onClick:_},{default:(0,t.k6)(()=>[(0,t.bF)(s,null,{default:(0,t.k6)(()=>[(0,t.bF)((0,n.R1)(d.Download))]),_:1}),o[11]||(o[11]=(0,t.eW)(" 下载PDF ",-1))]),_:1})])])):(0,t.Q3)("",!0)]),_:1})])}}},g=a(6262);const k=(0,g.A)(b,[["__scopeId","data-v-66d35e54"]]);var v=k;const m={class:"images-to-pdf-page"};var F={__name:"ImagesToPdf",setup(e){return(e,l)=>((0,t.uX)(),(0,t.CE)("div",m,[(0,t.bF)(v),l[0]||(l[0]=(0,t.Lk)("section",{class:"info-block"},[(0,t.Lk)("h2",null,"功能说明"),(0,t.Lk)("p",null,"将多张图片（JPG/PNG等）按顺序合并为一个PDF，支持页面大小、方向与边距设置。"),(0,t.Lk)("h3",null,"使用案例"),(0,t.Lk)("ul",null,[(0,t.Lk)("li",null,"把扫描的票据图片整理成一份PDF提交。"),(0,t.Lk)("li",null,"将产品图片打包为PDF画册方便发送。"),(0,t.Lk)("li",null,"把学习笔记照片合并成PDF备份。")])],-1))]))}};const _=(0,g.A)(F,[["__scopeId","data-v-cc102556"]]);var L=_}}]);
//# sourceMappingURL=591.f35cc09d.js.map